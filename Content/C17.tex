\newpage

\section[Day 17: Differentiation]{Differentiation}

\subsection{ Derivative of a function }

{ \color{blue} Definition 17.1.1: Derivative }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Let f be defined on any x $\in$ [a,b].

        \hspace{1cm}
        $\phi(t)$ = $\frac{f(t) - f(x)}{t - x}$ for t $\not =$ x
        
        The derivative of f at x:

        \hspace{1cm}
        $f'(x)$ = $\lim_{t \rightarrow x}$ $\phi(t)$

        if the limit exist as defined by {\color{blue} definition 14.1.1}.

        If f' is defined at x, then f is differentiable at x.
    \end{adjustbox}

    \vspace{0.5cm}

{ \color{red} Theorem 17.1.2: Differentiability $\rightarrow$ Continuity }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Let f be defined on [a,b].
        
        If f is differentiable at x $\in$ [a,b], then f is continuous at x.
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        As t $\rightarrow$ x:

        \hspace{1cm}
        f(t) - f(x)
        = $\frac{f(t)- f(x)}{t-x} \cdot (t-x)$
        $\rightarrow$ $f'(x) \cdot 0$
        = 0
    \end{minipage} }

    \vspace{0.5cm}

{ \color{red} Theorem 17.1.3: Arithmetic operations on differentiation }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Suppose f,g are defined on [a,b] and differentiable on
        x $\in$ [a,b]. Then f+g, fg, and $\frac{f}{g}$ are differentiable at x:
    \end{adjustbox}

    \begin{enumerate}[label=(\alph*), leftmargin=1cm, itemsep=0.1cm]
        \item (f+g)'(x) = f'(x) + g'(x)
        
            \fbox{
            \begin{minipage}{14cm}
                $\lim_{t \rightarrow x}$ $\frac{(f+g)(t) - (f+g)(x)}{t - x}$
                = $\lim_{t \rightarrow x}$ $\frac{f(t) - f(x) + g(t) - g(x)}{t - x}$
                
                \hspace{3.9cm}
                = $\lim_{t \rightarrow x}$ $\frac{f(t) - f(x)}{t - x}$
                + $\lim_{t \rightarrow x}$ $\frac{g(t) - g(x)}{t - x}$
                = f'(x) + g'(x)
            \end{minipage} }
        
        \item (fg)'(x) = f'(x)g(x) + f(x)g'(x)

            \fbox{
            \begin{minipage}{14cm}
                $\lim_{t \rightarrow x}$ $\frac{(fg)(t) - (fg)(x)}{t - x}$
                = $\lim_{t \rightarrow x}$ $\frac{f(t)g(t) - f(x)g(x)}{t - x}$

                \hspace{3.5cm}
                = $\lim_{t \rightarrow x}$ $\frac{f(t)g(t)-f(x)g(t)+f(x)g(t)-f(x)g(x)}
                                                {t - x}$
                
                \hspace{3.5cm}
                = $\lim_{t \rightarrow x}$ $\frac{[f(t)-f(x)]g(t)}{t - x}$
                + $\lim_{t \rightarrow x}$ $\frac{f(x)[g(t)-g(x)}{t - x}$
                
                \hspace{3.5cm}
                = f'(x)g(x) + f(x)g'(x)
            \end{minipage} }

        \item ($\frac{f}{g}$)'(x) = $\frac{f'(x)g(x) - f(x)g'(x)}{g^2(x)}$
        
            \fbox{
            \begin{minipage}{14cm}
                $\lim_{t \rightarrow x}$ $\frac{(\frac{f}{g})(t)
                                                - (\frac{f}{g})(x)}{t - x}$
                = $\lim_{t \rightarrow x}$ $\frac{\frac{f(t)}{g(t)}
                                                - \frac{f(x)}{g(x)}}{t - x}$
                = $\lim_{t \rightarrow x}$ $\frac{f(t)g(x) - f(x)g(t)}
                                                    {g(t)g(x)(t-x)}$
                
                \hspace{3.3cm}
                = $\lim_{t \rightarrow x}$ $\frac{f(t)g(x)-f(x)g(x)+f(x)g(x)-f(x)g(t)}
                                                    {g(t)g(x)(t-x)}$
                
                \hspace{3.3cm}
                = $\lim_{t \rightarrow x}$ $\frac{[f(t)-f(x)]g(x)}{g(t)g(x)(t-x)}$
                + $\lim_{t \rightarrow x}$ $\frac{f(x)[g(x)-g(t)]}{g(t)g(x)(t-x)}$
                
                \hspace{3.3cm}
                = $\frac{f'(x)g(x)}{g^2(x)}$ + $\frac{f(x)[-g'(x)]}{g^2(x)}$
                = $\frac{f'(x)g(x) - f(x)g'(x)}{g^2(x)}$
            \end{minipage} }
    \end{enumerate}

\newpage

{ \color{red} Theorem 17.1.4: Differentiation Chain Rule }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Suppose f is continuous on [a,b], f'(x) exists at x $\in$ [a,b],
        g is defined on interval I containing f([a,b]), and
        g is differentiable at f(x).

        If h(t) = g(f(t)), then h is differentiable at x and
        h'(x) = g'(f(x)) $\cdot$ f'(x)
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        Since f is differentiable at x and g is differentiable at f(x), then:

        \hspace{1cm}
        f(t) - f(x) = (t-x) [f'(x) + u(t)]
        \hspace{2cm}
        for t $\in$ [a,b] and $\lim_{t \rightarrow x}$ u(t) = 0

        \hspace{1cm}
        g(s) - g(f(x)) = (s-f(x)) [g'(f(x)) + v(s)]
        \hspace{0.5cm}
        for s $\in$ I and $\lim_{s \rightarrow f(x)}$ v(s) = 0

        Thus:

        \hspace{1cm}
        $\lim_{t \rightarrow x}$ $\frac{h(t) - h(x)}{t - x}$
        = $\lim_{t \rightarrow x}$ $\frac{g(f(t)) - g(f(x))}{t - x}$

        \hspace{3.8cm}
        = $\lim_{t \rightarrow x}$ $\frac{(f(t) - f(x))[g'(f(x)) + v(f(t))]}{t - x}$

        \hspace{3.8cm}
        = $\lim_{t \rightarrow x}$ $\frac{(t-x) [f'(t) + u(t)]
                                                [g'(f(x)) + v(f(t))]}{t - x}$
        
        \hspace{3.8cm}
        = g'(f(x))$\cdot$f'(x) + f'(x)$\cdot$0 + g'(f(x))$\cdot$0 + 0$\cdot$0
        = g'(f(x)) $\cdot$ f'(x)
    \end{minipage} }





\subsection{ Mean Value Theorems}

{ \color{blue} Definition 17.2.1: Local Extrema }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Let real-valued f $\in$ X.
        
        Then f has a local maximum at p $\in$ X if:
        
        \hspace{1cm}
        There is $\delta > 0$ such that for all q $\in$ X where $d_X(q,p) < \delta$,
        f(q) $\leq$ f(p).
        
        Then f has a local minimum at p $\in$ X if:

        \hspace{1cm}
        There is $\delta > 0$ such that for all q $\in$ X where $d_X(q,p) < \delta$,
        f(q) $\geq$ f(p).
    \end{adjustbox}

    \vspace{0.5cm}

{ \color{red} Theorem 17.2.2: Derivative at local extrema is 0 }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Let f be defined on [a,b].
        
        If f has a local maximum at x $\in$ (a,b) and f'(x) exists, then
        f'(x) = 0.

        If f has a local minimum at x $\in$ (a,b) and f'(x) exists, then
        f'(x) = 0.
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        Suppose x is a local maximum.
        
        Then there is a $\delta > 0$ such that for all t $\in$ (a,b)
        where $|t - x| < \delta$, then f(t) $\leq$ f(x).

        Then for $t < x$, $\frac{f(t) - f(x)}{t - x}$ $\geq$ 0.
        Thus, $\lim_{t \rightarrow x}$ $\frac{f(t) - f(x)}{t - x}$ = f'(x) $\geq$ 0. 

        For $t > x$, $\frac{f(t) - f(x)}{t - x}$ $\leq$ 0.
        Thus, $\lim_{t \rightarrow x}$ $\frac{f(t) - f(x)}{t - x}$ = f'(x) $\leq$ 0.

        Since f'(x) exists, then f'(x) = 0.

        Proof is analogous for local minimum.
    \end{minipage} }

    \vspace{0.5cm}

{ \color{red} Theorem 17.2.3: Generalized Mean Value Thereom }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        If f,g are continuous real functions on [a,b] and differentiable on
        (a,b), then there is a x $\in$ (a,b) such that
        [f(b) - f(a)] $\cdot$ g'(x) = [g(b) - g(a)] $\cdot$ f'(x).
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        Let h(t) = [f(b) - f(a)] $\cdot$ g(t) - [g(b) - g(a)] $\cdot$ f(t)
        for t $\in$ [a,b].

        Since f,g are continuous on [a,b] and differentiable on (a,b),
        then h is continuous on [a,b] and differentiable on (a,b).
        Also, h(a) = f(b)g(a) - f(a)g(b) = h(b).

        If h is constant, then h'(x) = 0 and thus, theorem holds true for
        every x $\in$ (a,b).

        If h(t) $>$ h(a) for some t $\in$ (a,b), let x $\in$ [a,b] where
        h attains a local maximum.
        If h(t) $<$ h(a) for some t $\in$ (a,b), let x $\in$ [a,b] where
        h attains a local minimum.
        Then by {\color{red} theorem 17.2.2}, h'(x) = 0 and thus, theorem
        holds true at local extrema.
    \end{minipage}}

\newpage

    { \color{red} Theorem 17.2.4: Mean Value Thereom }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        If f is a real continuous function on [a,b] and differentiable on (a,b),
        then there is a x $\in$ (a,b) such that f(b) - f(a) = (b-a) f'(x).
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        From {\color{red} thereom 17.2.3}, let g(x) = x.
    \end{minipage}}

    \vspace{0.5cm}

{ \color{red} Theorem 17.2.5: Sign of derivative determines increasing/decreasing }

    \hspace{1cm}
    Suppose f is differentiable on (a,b).

    \begin{enumerate}[label=(\alph*), leftmargin=1cm, itemsep=0.1cm]
        \item If f'(x) $\geq$ 0 for all x $\in$ (a,b), then f is monotonically
        increasing.

        \item If f'(x) = 0 for all x $\in$ (a,b), then f is constant.
        
        \item If f'(x) $\leq$ 0 for all x $\in$ (a,b), then f is monotonically
        decreasing
    \end{enumerate}
    
{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        From {\color{red} theorem 17.2.4}, f($x_2$) - f($x_1$) = ($x_2 - x_1$) f'(x)
        for x $\in$ ($x_1,x_2$) $\subset$ (a,b).

        If f'(x) $\geq$ 0 for all x $\in$ (a,b), then f($x_2$) - f($x_1$) $\geq$ 0.
        Since f($x_2$) $\geq$ f($x_1$) for $x_2 > x_1$, then f is monotonically
        increasing.

        If f'(x) = 0 for all x $\in$ (a,b), then f($x_2$) - f($x_1$) = 0.
        Since f($x_2$) = f($x_1$) for $x_2 > x_1$, then f is constant.

        If f'(x) $\leq$ 0 for all x $\in$ (a,b), then f($x_2$) - f($x_1$) $\leq$ 0.
        Since f($x_2$) $\leq$ f($x_1$) for $x_2 > x_1$, then f is monotonically
        decreasing.
    \end{minipage}}





\subsection{ Continuity of Derivatives }

{ \color{red} Theorem 17.3.1: Intermediate values of derivatives exists }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Suppose f is a real differentiable function on [a,b]
        and $f'(a) < \lambda < f'(b)$.

        Then there is a x $\in$ (a,b) such that f'(x) = $\lambda$.

        Statement holds true if $f'(a) > f'(b)$.
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        Suppose $f'(a) < \lambda < f'(b)$.
        Let g(t) = f(t) - $\lambda$t.

        Since f(t),t are differentiable on [a,b],
        then g(t) is differentiable on [a,b].

        Then g'(a) = f'(a) - $\lambda$ $<$ 0 so g($t_1$) $<$ g(a)
        for some $t_1$ $\in$ (a,b).

        Also, g'(b) = f'(b) - $\lambda$ $>$ 0 so g($t_2$) $<$ g(b)
        for some $t_2$ $\in$ (a,b).

        Thus, there is a x where g(x) is a local minimum
        so g'(x) = 0 and thus, f'(x) = $\lambda$.
    \end{minipage}}

    \vspace{0.5cm}

{ \color{orange} Corollary 17.3.2:
Differentiable functions have no simple discontinuities }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        If f is differentiable on [a,b], then f' cannot have simple discontinuities
        on [a,b].
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        By {\color{red} theorem 17.3.1}, f'(x) exists for any x $\in$ [a,b].
    \end{minipage}}

\newpage





\subsection{ L'Hospital's Rule }

{ \color{red} Theorem 17.4.1: L'Hospital's Rule }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Suppose f,g are real and differentiable in (a,b) and g'(x) $\not =$ 0
        for all x $\in$ (a,b).
        
        Suppose $\lim_{x \rightarrow a}$ $\frac{f'(x)}{g'(x)} \rightarrow A$.
        If either:
        
        \begin{itemize}[leftmargin=1cm, itemsep=0.1cm]
            \item                        
                $\lim_{x \rightarrow a}$ f(x) $\rightarrow$ 0 and
                $\lim_{x \rightarrow a}$ g(x) $\rightarrow$ 0

            \item
                $\lim_{x \rightarrow a}$ g(x) $\rightarrow$ $\infty$ or
                $\lim_{x \rightarrow a}$ g(x) $\rightarrow$ $-\infty$
        \end{itemize}

        Then, $\lim_{x \rightarrow a}$ $\frac{f(x)}{g(x)}$ $\rightarrow$ A.

        Statement holds true if x $\rightarrow$ b.
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        Consider the case $-\infty \leq A < \infty$.

        Choose q such that $A < q$ and r such that $A < r < q$.

        Thus, there is a c $\in$ (a,b) such that $a < x < c$
        for $\frac{f'(x)}{g'(x)} < r$.

        For $a < x < y < c$, then by {\color{red} theorem 17.2.3},
        there is a t $\in$ (x,y) such that:

        \hspace{1cm}
        $\frac{f(x) - f(y)}{g(x)-g(y)}$
        = $\frac{f'(t)}{g'(t)}$ $< r$

        If $\lim_{x \rightarrow a}$ f(x) $\rightarrow$ 0 and
        $\lim_{x \rightarrow a}$ g(x) $\rightarrow$ 0, then
        as $x \rightarrow a$,
        $\frac{f(y)}{f(x)} \leq r < q$ for $y \in (a,c)$.

        If $\lim_{x \rightarrow a}$ g(x) $\rightarrow$ $\infty$, then
        keeping y fixed, choose $c_1 \in (a,y)$ such that $g(x) > g(y)$
        and $g(x) > 0$ if $a < x < c_1$. Thus:

        \hspace{1cm}
        $\frac{g(x)-g(y)}{g(x)}$ $\cdot$ $\frac{f(x) - f(y)}{g(x)-g(y)}$
        $< \frac{g(x)-g(y)}{g(x)} \cdot r$ for $x \in (a,c_1)$

        \hspace{1cm}
        $\frac{f(x)}{g(x)} < r - r \frac{g(y)}{g(x)} + \frac{f(y)}{g(x)}$
        
        Thus as $x \rightarrow a$, there is a $c_2 \in (a,c_1)$ such that
        $\frac{f(x)}{g(x)} < r < q$ for $x \in (a,c_2)$.

        Proof is analogous if $\lim_{x \rightarrow a}$ g(x) $\rightarrow$ $-\infty$.

        Thus, $\lim_{x \rightarrow a}$ $\frac{f(x)}{g(x)}$ $\rightarrow$ A.
    \end{minipage}}



\subsection{ Derivative of Higher Order }

{ \color{blue} Definition 17.5.1: Derivative of Higher Order }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        If f has a derivative f' on an interval and f' is differentiable,
        then the derivative of f' is f'', the second derivative of f.
        Then, $f^{(n)}$ is the nth derivative of f.

        For $f^{(n)}(x)$ to exist at x, $f^{(n-1)}(t)$ must exist
        in a neighborhood of x and $f^{(n-1)}$ must be differentiable at x.
        
        If $f^{(n-1)}$ exist in a neighborhood of x, then $f^{(n-2)}$
        must be differentiable in that neighborhood and
        so on until f is differentiable on that neighborhood.
    \end{adjustbox}

\newpage





\subsection{ Taylor's Theorem }

{ \color{red} Theorem 17.6.1: Taylor's Theorem }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Suppose f is a real function on [a,b], n $\in$ $\mathbb{Z}_+$,
        $f^{(n-1)}$ is continuous on [a,b], $f^n(t)$ exists at every t $\in$ (a,b).
        
        Let $\alpha,\beta$ $\in$ [a,b] be distinct and
        P(t) = $\sum_{k=0}^{n-1}$ $\frac{f^k(\alpha)}{k!} (t-\alpha)^k$.

        Then there exists a x between $\alpha$ and $\beta$ such that
        f($\beta$) = P($\beta$) + $\frac{f^n(x)}{n!} (\beta-\alpha)^n$
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        Let M be the number defined by
        $f(\beta) = P(\beta) + M(\beta - \alpha)^n$.

        Let $g(t) = f(t) - P(t) - M(t- \alpha)^n$ for $t \in [\alpha,\beta]$.
        Thus, $g^{(n)}(t) = f^{(n)}(t) - n!M$.

        Also since $P^{(k)}(\alpha) = f^{(k)}(\alpha)$ for k = [0,n-1], then
        $g(\alpha) = g'(\alpha) = ... = g^{(n-1)}(\alpha) = 0$.

        Since the choice of M gives $g(\beta)$ = 0, then by the Mean Value Theorem,
        $g'(x_1)$ = 0 for some $x_1$ between $\alpha$ and $\beta$.

        Since $g'(\alpha)$ = 0, then $g''(x_2)$ = 0
        for some $x_2$ between $\alpha$ and $x_1$.

        Thus, $g^{(n)}(x_n)$ = 0 for some $x_n$ between $\alpha$ and $x_{n-1}$
        so $x_n$ is between $\alpha$ and $\beta$.

        Thus, there exists an $x_n \in (\alpha,\beta)$ such that:

        \hspace{1cm}
        0 = $g^{(n)}(x_n)$ = $f^{(n)}(x_n) - n!M$

        \hspace{1cm}
        $M = \frac{f^{n}(x_n)}{n!}$
    \end{minipage}}





\subsection{ Differentiation of Vector-Valued Functions }

{ \color{blue} Definition 17.7.1: Extending derivative to Vector-Valued Functions }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        For vector-valued function f: t $\in$ [a,b] $\rightarrow$ $\mathbb{R}^k$,
        the derivative of f at x:

        \hspace{1cm}
        f'(x) = $\lim_{t \rightarrow x} |\frac{f(t)-f(x)}{t-x}|$

        if the limit exist as defined by {\color{blue} definition 14.1.1}.

        \vspace{0.2cm}

        If f = ($f_1, ... , f_k$), then f' = ($f_1', ... , f_k'$)
        and f is differentiable at x if and only if $f_1, ... , f_k$ are
        differentiable at x.

        \vspace{0.1cm}

        Thus, by {\color{red} theorem 14.2.7}, these theorems hold true
        for vector-valued functions:

        \begin{enumerate}[label=-, leftmargin=0.7cm, itemsep=0.1cm]
            \item {\color{red} 17.1.2}:
                If f is differentiable at x, then f is continuous at x.
            
            \item {\color{red} 17.1.3a$\backslash$b}:
                If f,g are differentiable at x, then f+g,f$\cdot$g
                are differentiable at x. 
        \end{enumerate}

        \vspace{0.1cm}

        However, {\color{red} theorem 17.2.4: Mean Value Theorem}
        and {\color{red} theorem 17.4.1: L'Hospital's Rule}
        does not always hold true since {\color{red} theorem 17.1.3c},
        dividing vectors by vectors, is not defined for vector-valued functions.
    \end{adjustbox}

    \vspace{0.5cm}

{ \color{red} Theorem 17.7.2: Mean Value Theorem for $\mathbb{R}^k$ }

    \begin{adjustbox}{minipage=14cm, right, vspace=0.1cm 0cm}
        Suppose f is a continuous mapping of [a,b] into $\mathbb{R}^k$
        and f is differentiable on (a,b). Then there is a x $\in$ (a,b)
        such that $|f(b) - f(a)|$ $\leq$ (b-a) $|f'(x)|$
    \end{adjustbox}

{ \color{magenta} \underline{Proof} }

    \fbox{
    \begin{minipage}{15cm}
        Let z = f(b) - f(a) and define $\phi(t) = z \cdot f(t)$ for t $\in$ [a,b].

        Then $\phi(t)$ is real-valued continuous on [a,b] and differentiable on (a,b).

        Then by the Mean Value Theorem, for some x $\in$ (a,b):

        \hspace{1cm}
        $\phi(b) - \phi(a)$
        = (b-a) $\phi'(x)$
        = (b-a) $z \cdot f'(x)$

        Since $\phi(b) - \phi(a)$
        = $z \cdot f(b) - z \cdot f(a)$
        = $z \cdot z$ = $|z|^2$,
        then by the Schwarz Inequality:
        
        \hspace{1cm}
        $|z|^2$
        = (b-a) $|z \cdot f'(x)|$
        $\leq$ (b-a) $|z| |f'(x)|$
        
        \hspace{1cm}
        $|z|$
        $\leq$ (b-a) $|f'(x)|$

        \hspace{1cm}
        $|f(b) - f(a)|$
        $\leq$ (b-a) $|f'(x)|$
    \end{minipage}}




